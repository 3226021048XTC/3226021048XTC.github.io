---
title: 指针与数组
abbrlink: 31632
date: 2022-10-18 00:02:18
tags:
---

# 一.指针与数组

1. 数组是一块连续的内存单元，其中数组名的值就是这块连续内存的首地址；一个指针变量既可以指向一个数组，也可以指向一个数组元素；比如：指针变量p=a与a与&a[0]的值是一样的，都指向数组a的首地址，也是0号元素，a[0]的地址；p+1,a+1,&a[1]都指向1号元素，类似可得p+i，a+i，&a[i]指向i号元素；应注意指针是变量，数组名和数组元素是常量；

2. 引入指针后可用*(p+i)的形式访问数组a[i]的元素，下标法：通过p[i]访问a[i]的元素；指针法：*(p+i)访问a[i]的元素；

```
int a[5],*p=a
for(int i=1;i<=5;i++){
    scanf("%d",&a[i]);//a[i]与a+i和p+i等价；
}
for(int i=1;i<=5;i++){
    printf("%d",a[i]);//a[i]与*(p+i),*(a+i),p[i]等价
}
```

把a当指针用，a+i指向第i个元素；注意a是静态常量，是不可变的，指针是变量，可以变化，如p=p+1是合法的，a=a+1是非法的；

3. 指针也可以看出数组名；

指针是可以作为动态数组进行使用的，因为指针可以动态申请空间，且如果一次性申请多个变量空间，则系统给的空间则是连续的，这种情况下便可以当成数组进行操作；

```
int *a;
int n;
scanf("%d",&n);
a=new int[n+1]；//向系统申请连续的n+1个int型的空间；
//a=(int *)malloc(sizeof(int)*n)
for(int i=1;i<=n;i++){
    scanf("%d",&a[i]);
}
for(int i=1;i<=n;i++){
    printf("%d",a[i]);
}
delete []a;//释放空间
//free(a);
```
