---
title: 时间复杂度与空间复杂度
abbrlink: 44936
date: 2022-10-13 15:59:28
tags:
---

在数据结构和算法中，因为算法本身是不分“好坏”的，而所谓“最好”的算法，则是指最适合当前场景的算法。因此通常考虑程序的执行效率和占用的内存空间，即时间复杂度和空间复杂度，时间复杂度用来表示算法运行时间，空间复杂度用来表示算法所使用的空间。

通常用O来表示复杂度；

对于空间复杂度，在一个执行的程序中，占用的内存空间主要包括：

1.程序代码本身所占用的存储空间；

2.如果需要输入输出数据，也会占用一定的存储空间；

3.运行过程中，可能还需要临时申请更多的存储空间。

对于第一点，可以通过在编写代码的同时在保证功能的前提下，尽可能的编写足够短的代码；

对于第二点，程序运行过程中输入输出的数据，往往由要解决的问题而定，即便所用算法不同，程序输入输出所占用的存储空间也是相近的。

对于第三点，在程序运行过程中临时申请的内存空间，不同算法编写出的程序，运行时申请的临时存储空间通常会有较大不同，因此根据不同的情况编写合适的代码，可以减少空间复杂度；

空间复杂度的估算方法是：

- 如果算法中额外申请的内存空间不受用户输入值的影响（即一个固定值），那么该算法的空间复杂度用`O(1)`表示；
- 如果随着输入值 n 的增大，算法申请的存储空间成线性增长，则程序的空间复杂度用`O(n)`表示;
- 如果随着输入值 n 的增大，程序申请的存储空间成 n^2 关系增长，则程序的空间复杂度用`O(n^2)`表示；
- 如果随着输入值 n 的增大，程序申请的存储空间成 n^3 关系增长，则程序的空间复杂度用`O(n^3)`表示；

大多数情况下，一个好的程序更注重时间复杂度，空间复杂度在一个合理范围即可；

对于时间复杂度，即预估算法的执行时间；

计算一个算法的时间复杂度，需要经过以下 3 个步骤：

#### 1) 统计算法中各个步骤的执行次数

#### 2) 简化算法的执行次数

#### 3) 用大O记法表示算法的时间复杂度

在简化中，以 3*n2+4*n+5 为例，简化过程为：

1. 当 n 无限大时，3n^2+4n 与 3*n^2+4*n+5 的值非常接近，是否加 5 对表达式的值影响不大，因此表达式可以简化为 3*n^2+4*n；
2. 当 n 无限大时，3*n^2 的值要远远大于 4*n 的值，它们之间类似于 10000 和 1 之间的关系，因此是否加 4*n 对表达式最终的值影响不大，整个表达式可以简化为 3*n^2；
3. 当 n 无限大时，n^2 的值已经超级大，是否乘 3 对最终结果影响不大，整个表达式可以简化为  n^2。

基于“n 值无限大”的思想，3*n^2+4*n+5 最终就简化成了 n^2。

一般情况下的时间复杂度之间大小有以下关系

O(1)< O(logn) < O(n) < O(n^2) < O(n^3) < O(2^n)

其中`O(1)`是最小的，对应的算法的执行时间最短，执行效率最高。

最后在实际过程，往往采用 “预先估值”的方法挑选算法。具体来讲，就是分析各个算法的实现过程（步骤），估算出它们各自的运行时间和占用的内存大小，就可以挑选出“最好”的算法。
